/* Naive UI 样式覆盖 - 悬停图标优化完整版 */

// 颜色变量
$menu-text-color: #bbb;
$menu-hover-color: #fff;
$menu-active-color: #eee;
$menu-hover-bg: #1890ff;
$menu-sider-width: 240px;
$menu-sider-collapsed-width: 64px;

.n-layout {
  display: flex;
  height: 100vh;
  overflow: hidden;

  .n-layout-sider {
    width: $menu-sider-width;
    min-width: $menu-sider-collapsed-width;
    max-width: $menu-sider-width;
    height: 100%;
    border-right: 1px solid var(--n-border-color);
    background-color: var(--color-bg);
    display: flex;
    flex-direction: column;
    transition: max-width 0.3s ease;

    /* 折叠状态 - 仅修改图标颜色 */
    &--collapsed {
      max-width: $menu-sider-collapsed-width;
      min-width: $menu-sider-collapsed-width;
      
      .n-menu-item-content__icon {
        color: $menu-hover-color;
        
        svg {
          color: $menu-hover-color;
          fill: $menu-hover-color;
        }
      }
    }

    .n-menu {
      flex: 1;
      overflow-x: hidden;

      .n-menu-item-content {
        position: relative;
        white-space: nowrap;

        &::before {
          content: '';
          position: absolute;
          top: 4px;
          bottom: 4px;
          left: 12px;
          right: 12px;
          border-radius: 4px;
          background-color: transparent;
          transition: background-color 0.2s ease;
        }

        /* 默认状态 */
        &-header, &__icon, 
        .n-submenu-arrow, .n-base-icon, svg {
          color: $menu-text-color;
          fill: $menu-text-color;
          z-index: 1;
        }

        /* 悬停状态 - 图标颜色调整 */
        &:not(.n-menu-item-content--disabled):hover {
          .n-menu-item-content__icon,
          .n-menu-item-content__icon svg {
            color: $menu-hover-color;
            fill: $menu-hover-color;
          }
          
          &::before {
            background-color: $menu-hover-bg;
          }
          
          &-header, 
          .n-base-icon, svg {
            color: $menu-text-color; /* 保持文本默认颜色 */
            fill: $menu-text-color;
          }
        }

        /* 选中状态 */
        &--selected {
          &::before {
            background-color: var(--n-item-color-active);
          }
          
          &-header, &__icon, 
          .n-submenu-arrow, .n-base-icon, svg {
            color: $menu-active-color;
            fill: $menu-active-color;
          }
        }
      }
    }
  }

  .n-layout-content {
    flex: 1;
    min-width: 0;
    display: flex;
    flex-direction: column;
    
    .main-content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      overflow-x: hidden;
    }
  }
}

/* 滚动条样式 */
.n-scrollbar .n-scrollbar-rail--vertical {
  width: 4px;
  opacity: 0;
  transition: opacity 0.3s ease;
  
  &__scrollbar {
    background-color: var(--color-bg);
    opacity: 0.6;
  }
  
  &:hover {
    opacity: 1;
  }
}