/**
 * ä¸»é¢˜ CSS Variables ç³»ç»Ÿ
 *
 * æ ¸å¿ƒç†å¿µï¼š
 * 1. ä½¿ç”¨ CSS Variables å®ç°ä¸»é¢˜åˆ‡æ¢ï¼Œå‡å°‘ JS è¿è¡Œæ—¶è®¡ç®—
 * 2. æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼Œæ€§èƒ½æ›´å¥½
 * 3. ç»Ÿä¸€ä½¿ç”¨ [data-theme] é€‰æ‹©å™¨ï¼Œè§„èŒƒåŒ–ä¸»é¢˜åˆ‡æ¢
 *
 * ä½¿ç”¨æ–¹å¼ï¼š
 * .my-component {
 *   background-color: var(--app-bg-body);
 *   color: var(--app-text-primary);
 * }
 */

/* ===========================================
 * äº®è‰²ä¸»é¢˜ CSS Variables
 * =========================================== */

:root,
[data-theme='light'] {
  /* ä¸»è‰²ç³» */
  --app-primary: #2080f0;
  --app-primary-hover: #4098fc;
  --app-primary-pressed: #1060c9;
  --app-primary-suppl: #4098fc;

  /* èƒŒæ™¯è‰²ç³» */
  --app-bg-body: #ffffff;
  --app-bg-surface: #f4f7f9;
  --app-bg-menu: #0d1425;
  --app-bg-content: #ffffff;
  --app-bg-layout: #f4f7f9;

  /* æ–‡æœ¬è‰²ç³» */
  --app-text-primary: #000000;
  --app-text-secondary: #666666;
  --app-text-disabled: #c0c0c0;
  --app-text-placeholder: #999999;

  /* èœå•è‰²ç³» */
  --app-menu-bg: #0d1425;
  --app-menu-item-text: #e5e7eb;
  --app-menu-item-text-hover: #f8fafc;
  --app-menu-item-text-active: #e5e7eb;
  --app-menu-item-icon: #e5e7eb;
  --app-menu-item-icon-hover: #f8fafc;
  --app-menu-item-bg-active: #2080f0;
  --app-menu-item-bg-hover: rgba(255, 255, 255, 0.1);

  /* è¾¹æ¡†è‰²ç³» */
  --app-border-default: #e5e7eb;
  --app-border-light: #f3f4f6;
  --app-border-deep: #d1d5db;

  /* é˜´å½± */
  --app-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  --app-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
  --app-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);

  /* è¿‡æ¸¡ */
  --app-transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --app-transition-base: 0.4s cubic-bezier(0.4, 0, 0.6, 1);
}

/* ===========================================
 * æš—è‰²ä¸»é¢˜ CSS Variables
 * =========================================== */

[data-theme='dark'] {
  /* ä¸»è‰²ç³»ï¼ˆä¸äº®è‰²ä¿æŒä¸€è‡´ï¼‰ */
  --app-primary: #2080f0;
  --app-primary-hover: #4098fc;
  --app-primary-pressed: #1060c9;
  --app-primary-suppl: #4098fc;

  /* èƒŒæ™¯è‰²ç³» */
  --app-bg-body: #1c1c1c;
  --app-bg-surface: #121212;
  --app-bg-menu: #1c1c1c;
  --app-bg-content: #1c1c1c;
  --app-bg-layout: #121212;

  /* æ–‡æœ¬è‰²ç³» */
  --app-text-primary: #ffffff;
  --app-text-secondary: #9ca3af;
  --app-text-disabled: #4a5568;
  --app-text-placeholder: #6b7280;

  /* èœå•è‰²ç³» */
  --app-menu-bg: #1c1c1c;
  --app-menu-item-text: #e5e7eb;
  --app-menu-item-text-hover: #f8fafc;
  --app-menu-item-text-active: #e5e7eb;
  --app-menu-item-icon: #9ca3af;
  --app-menu-item-icon-hover: #d1d5db;
  --app-menu-item-bg-active: rgba(32, 128, 240, 0.2);
  --app-menu-item-bg-hover: rgba(255, 255, 255, 0.08);

  /* è¾¹æ¡†è‰²ç³» */
  --app-border-default: rgba(255, 255, 255, 0.15);
  --app-border-light: rgba(255, 255, 255, 0.08);
  --app-border-deep: rgba(255, 255, 255, 0.25);

  /* é˜´å½±ï¼ˆæš—è‰²ä¸‹çš„é˜´å½±æ›´æ·±ï¼‰ */
  --app-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
  --app-shadow-md: 0 4px 6px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
  --app-shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.3), 0 4px 6px rgba(0, 0, 0, 0.2);

  /* è¿‡æ¸¡ï¼ˆä¸äº®è‰²ä¿æŒä¸€è‡´ï¼‰ */
  --app-transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
  --app-transition-base: 0.4s cubic-bezier(0.4, 0, 0.6, 1);
}

/* ===========================================
 * å…¨å±€æ ·å¼åº”ç”¨
 * =========================================== */

/**
 * ä¸º body å…ƒç´ åº”ç”¨ä¸»é¢˜å˜é‡
 */
body {
  background-color: var(--app-bg-body);
  color: var(--app-text-primary);
}

/**
 * color-scheme æ”¯æŒ * è®©æµè§ˆå™¨åŸç”Ÿç»„ä»¶ï¼ˆæ»šåŠ¨æ¡ã€è¾“å…¥æ¡†ç­‰ï¼‰è‡ªåŠ¨é€‚é…ä¸»é¢˜
 */
[data-theme='light'] {
  color-scheme: light;
}

[data-theme='dark'] {
  color-scheme: dark;
}

/**
 * View Transition API é…ç½® * ç°ä»£æµè§ˆå™¨çš„åŸç”Ÿè¿‡æ¸¡åŠ¨ç”»ï¼ˆä¸æ»‘æµç•…ï¼‰
 */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.5s;
    animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }
::view-transition-old(root) {
  animation-name: theme-fade-out;
  }
  
  ::view-transition-new(root) {
  animation-name: theme-fade-in;
  }
  
  @keyframes theme-fade-out {
    to {
      opacity: 0;
  }
}

@keyframes theme-fade-in {
  from {
    opacity: 0;
  }
}

/**
 * ğŸ”¥ å…³é”®ä¼˜åŒ–ï¼šåœ¨ View Transition æœŸé—´ç¦ç”¨æ‰€æœ‰ CSS transitions
 * é˜²æ­¢ä¸ View Transition API äº§ç”Ÿå†²çªï¼Œé¿å…åŒé‡åŠ¨ç”»å¯¼è‡´å¡é¡¿
 *
 * å·¥ä½œåŸç†ï¼š
 * 1. theme store åœ¨è°ƒç”¨ startViewTransition å‰ç»™ html æ·»åŠ  .theme-transitioning ç±»
 * 2. æ­¤é€‰æ‹©å™¨ç¦ç”¨æ‰€æœ‰å…ƒç´ çš„ transition å’Œ animation
 * 3. startViewTransition å®Œæˆåç§»é™¤è¯¥ç±»ï¼Œæ¢å¤æ­£å¸¸åŠ¨ç”»
 * 4. ç»“æœï¼šåªæœ‰ View Transition API çš„åŸç”Ÿè¿‡æ¸¡åœ¨å·¥ä½œï¼Œä¸æ»‘æµç•…
 */
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition: none !important;
  animation-duration: 0s !important;
}
