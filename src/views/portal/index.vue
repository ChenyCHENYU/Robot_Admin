<!-- * @Description: Á≥ªÁªüÈó®Êà∑È°µÈù¢ - Â±ïÁ§∫ÊâÄÊúâÂèØËÆøÈóÆÁöÑÁ≥ªÁªü * @Author: ChenYu * @Date: 2025-12-19--><template>  <div class="portal-container">    <!-- Ê¨¢ËøéÂå∫Âüü -->    <div class="welcome-section">      <div class="welcome-card">        <div class="welcome-icon">üëã</div>        <h1 class="welcome-title">Ê¨¢ËøéÂõûÊù•Ôºå{{ userStore.userInfo.name || 'ChenYu' }}</h1>        <p class="welcome-desc">{{ greeting }}ÔºåÂºÄÂßãÊÇ®ÁöÑÂ∑•‰ΩúÂêß</p>                <div class="stats-row">          <div class="stat-item">            <i class="i-ri:apps-line stat-icon"></i>            <div class="stat-content">              <div class="stat-value">{{ systemList.length }}</div>              <div class="stat-label">ÂèØÁî®Á≥ªÁªü</div>            </div>          </div>          <div class="stat-item">            <i class="i-ri:time-line stat-icon"></i>            <div class="stat-content">              <div class="stat-value">{{ currentTime }}</div>              <div class="stat-label">ÂΩìÂâçÊó∂Èó¥</div>            </div>          </div>        </div>      </div>    </div>    <!-- Á≥ªÁªüÂàóË°® -->    <div class="systems-section">      <div class="section-header">        <h2 class="section-title">          <i class="i-ri:dashboard-line"></i>          ÊâÄÊúâÁ≥ªÁªü        </h2>        <NInput          v-model:value="searchKeyword"          placeholder="ÊêúÁ¥¢Á≥ªÁªü..."          clearable          style="width: 300px"        >          <template #prefix>            <i class="i-ri:search-line"></i>          </template>        </NInput>      </div>      <div class="systems-grid">        <div          v-for="system in filteredSystems"          :key="system.id"          class="system-card"          :class="{ 'is-current': system.isCurrent }"          @click="handleSystemClick(system)"        >          <div class="system-badge" v-if="system.badge">            <span>{{ system.badge }}</span>          </div>                    <div class="system-icon" :style="{ background: system.color }">            <i :class="system.icon"></i>          </div>                    <div class="system-info">            <h3 class="system-name">{{ system.name }}</h3>            <p class="system-desc">{{ system.description }}</p>          </div>                    <div class="system-footer">            <NTag :type="system.status === 'running' ? 'success' : 'warning'" size="small">              {{ system.statusText }}            </NTag>            <span class="system-version">{{ system.version }}</span>          </div>          <div class="system-hover-overlay">            <NButton type="primary" size="large">              {{ system.isCurrent ? 'ËøõÂÖ•Á≥ªÁªü' : 'ÊâìÂºÄÁ≥ªÁªü' }}            </NButton>          </div>        </div>      </div>    </div>    <!-- ÊúÄËøëËÆøÈóÆ -->    <div class="recent-section" v-if="recentVisits.length > 0">      <h2 class="section-title">        <i class="i-ri:history-line"></i>        ÊúÄËøëËÆøÈóÆ      </h2>      <div class="recent-list">        <div          v-for="item in recentVisits"          :key="item.id"          class="recent-item"          @click="handleSystemClick(item.system)"        >          <div class="recent-icon" :style="{ background: item.system.color }">            <i :class="item.system.icon"></i>          </div>          <div class="recent-info">            <div class="recent-name">{{ item.system.name }}</div>            <div class="recent-time">{{ item.visitTime }}</div>          </div>        </div>      </div>    </div>  </div></template><script setup lang="ts">import { s_userStore } from '@/stores/user'import { useRouter } from 'vue-router'const router = useRouter()const userStore = s_userStore()// ÊêúÁ¥¢ÂÖ≥ÈîÆËØçconst searchKeyword = ref('')// ÂΩìÂâçÊó∂Èó¥const currentTime = ref('')const updateTime = () => {  const now = new Date()  currentTime.value = now.toLocaleTimeString('zh-CN', {     hour: '2-digit',     minute: '2-digit',  })}updateTime()setInterval(updateTime, 60000)// ÈóÆÂÄôËØ≠const greeting = computed(() => {  const hour = new Date().getHours()  if (hour < 6) return 'Â§úÊ∑±‰∫ÜÔºåÊ≥®ÊÑè‰ºëÊÅØ'  if (hour < 9) return 'Êó©‰∏äÂ•Ω'  if (hour < 12) return '‰∏äÂçàÂ•Ω'  if (hour < 14) return '‰∏≠ÂçàÂ•Ω'  if (hour < 18) return '‰∏ãÂçàÂ•Ω'  if (hour < 22) return 'Êôö‰∏äÂ•Ω'  return 'Â§úÊ∑±‰∫ÜÔºåÊ≥®ÊÑè‰ºëÊÅØ'})// Á≥ªÁªüÂàóË°®const systemList = ref([  {    id: 'robot-admin',    name: 'Robot Admin',    description: '‰ºÅ‰∏öÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªüÔºåÊèê‰æõÂÆåÊï¥ÁöÑÊùÉÈôêÁÆ°ÁêÜ„ÄÅÊï∞ÊçÆÁªüËÆ°Á≠âÂäüËÉΩ',    icon: 'i-ri:robot-2-line',    color: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',    status: 'running',    statusText: 'ËøêË°å‰∏≠',    version: 'v1.11.0',    badge: 'HOT',    isCurrent: true,  // ÂΩìÂâçÁ≥ªÁªü    url: '/home',      // ÂΩìÂâçÁ≥ªÁªüÁî®Ë∑ØÁî±    port: null,  },  {    id: 'data-analytics',    name: 'Êï∞ÊçÆÂàÜÊûêÂπ≥Âè∞',    description: 'ÂÆûÊó∂Êï∞ÊçÆÂàÜÊûê‰∏éÂèØËßÜÂåñÔºåÊîØÊåÅÂ§öÁª¥Â∫¶Êï∞ÊçÆÊåñÊéò',    icon: 'i-ri:bar-chart-line',    color: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',    status: 'running',    statusText: 'ËøêË°å‰∏≠',    version: 'v2.0.0',    badge: null,    isCurrent: false,    url: null,    port: 3002,  // Â≠êÂ∫îÁî®Á´ØÂè£  },  {    id: 'logistics',    name: 'Áâ©ÊµÅÁÆ°ÁêÜÁ≥ªÁªü',    description: 'ËÆ¢ÂçïËøΩË∏™„ÄÅÂ∫ìÂ≠òÁÆ°ÁêÜ„ÄÅÈÖçÈÄÅ‰ºòÂåñ‰∏Ä‰ΩìÂåñËß£ÂÜ≥ÊñπÊ°à',    icon: 'i-ri:truck-line',    color: 'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',    status: 'maintenance',    statusText: 'Áª¥Êä§‰∏≠',    version: 'v1.5.2',    badge: null,    isCurrent: false,    url: null,    port: 3003,  },  {    id: 'crm',    name: 'ÂÆ¢Êà∑ÂÖ≥Á≥ªÁÆ°ÁêÜ',    description: 'ÂÆ¢Êà∑‰ø°ÊÅØÁÆ°ÁêÜ„ÄÅÈîÄÂîÆË∑üËøõ„ÄÅÂïÜÊú∫ÁÆ°ÁêÜ',    icon: 'i-ri:customer-service-line',    color: 'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',    status: 'running',    statusText: 'ËøêË°å‰∏≠',    version: 'v1.8.0',    badge: null,    isCurrent: false,    url: null,    port: 3004,  },])// ËøáÊª§ÂêéÁöÑÁ≥ªÁªüÂàóË°®const filteredSystems = computed(() => {  if (!searchKeyword.value) return systemList.value  const keyword = searchKeyword.value.toLowerCase()  return systemList.value.filter(sys =>     sys.name.toLowerCase().includes(keyword) ||     sys.description.toLowerCase().includes(keyword),  )})// ÊúÄËøëËÆøÈóÆËÆ∞ÂΩïconst recentVisits = ref([  {    id: 1,    system: systemList.value[0],    visitTime: '17Â∞èÊó∂Ââç',  },])// ÁÇπÂáªÁ≥ªÁªüÂç°Áâáconst handleSystemClick = (system: any) => {  if (system.isCurrent) {    // ÂΩìÂâçÁ≥ªÁªüÔºå‰ΩøÁî®Ë∑ØÁî±Ë∑≥ËΩ¨    router.push(system.url)    recordVisit(system)  } else if (system.port) {    // Â≠êÂ∫îÁî®ÔºåË∑≥ËΩ¨Âà∞ÂæÆÂ∫îÁî®È°µÈù¢    router.push(`/micro-app/${system.id}`)    recordVisit(system)  } else {    window.$message?.warning('ËØ•Á≥ªÁªüÊöÇÊú™ÈÖçÁΩÆ')  }}// ËÆ∞ÂΩïËÆøÈóÆconst recordVisit = (system: any) => {  const existIndex = recentVisits.value.findIndex(v => v.system.id === system.id)  if (existIndex > -1) {    recentVisits.value.splice(existIndex, 1)  }  recentVisits.value.unshift({    id: Date.now(),    system,    visitTime: 'ÂàöÂàö',  })  if (recentVisits.value.length > 5) {    recentVisits.value.pop()  }}</script><style scoped lang="scss">.portal-container {  min-height: 100vh;  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  padding: 40px 20px;}.welcome-section {  max-width: 1200px;  margin: 0 auto 40px;}.welcome-card {  background: rgba(255, 255, 255, 0.95);  backdrop-filter: blur(10px);  border-radius: 24px;  padding: 48px;  text-align: center;  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);}.welcome-icon {  font-size: 64px;  margin-bottom: 20px;  animation: wave 2s ease-in-out infinite;}@keyframes wave {  0%, 100% { transform: rotate(0deg); }  25% { transform: rotate(20deg); }  75% { transform: rotate(-20deg); }}.welcome-title {  font-size: 32px;  font-weight: 600;  color: #333;  margin-bottom: 12px;}.welcome-desc {  font-size: 16px;  color: #666;  margin-bottom: 32px;}.stats-row {  display: flex;  justify-content: center;  gap: 48px;}.stat-item {  display: flex;  align-items: center;  gap: 16px;}.stat-icon {  font-size: 40px;  color: #667eea;}.stat-content {  text-align: left;}.stat-value {  font-size: 28px;  font-weight: 600;  color: #333;}.stat-label {  font-size: 14px;  color: #999;  margin-top: 4px;}.systems-section,.recent-section {  max-width: 1200px;  margin: 0 auto 40px;}.section-header {  display: flex;  justify-content: space-between;  align-items: center;  margin-bottom: 24px;}.section-title {  font-size: 24px;  font-weight: 600;  color: white;  display: flex;  align-items: center;  gap: 12px;    i {    font-size: 28px;  }}.systems-grid {  display: grid;  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));  gap: 24px;}.system-card {  background: white;  border-radius: 16px;  padding: 24px;  cursor: pointer;  transition: all 0.3s ease;  position: relative;  overflow: hidden;    &:hover {    transform: translateY(-8px);    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);        .system-hover-overlay {      opacity: 1;    }  }    &.is-current {    border: 2px solid #667eea;  }}.system-badge {  position: absolute;  top: 16px;  right: 16px;  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);  color: white;  padding: 4px 12px;  border-radius: 12px;  font-size: 12px;  font-weight: 600;}.system-icon {  width: 64px;  height: 64px;  border-radius: 16px;  display: flex;  align-items: center;  justify-content: center;  margin-bottom: 16px;    i {    font-size: 32px;    color: white;  }}.system-info {  margin-bottom: 20px;}.system-name {  font-size: 20px;  font-weight: 600;  color: #333;  margin-bottom: 8px;}.system-desc {  font-size: 14px;  color: #666;  line-height: 1.6;}.system-footer {  display: flex;  justify-content: space-between;  align-items: center;}.system-version {  font-size: 12px;  color: #999;}.system-hover-overlay {  position: absolute;  inset: 0;  background: rgba(102, 126, 234, 0.95);  display: flex;  align-items: center;  justify-content: center;  opacity: 0;  transition: opacity 0.3s ease;}.recent-list {  display: flex;  gap: 16px;  flex-wrap: wrap;}.recent-item {  background: rgba(255, 255, 255, 0.95);  border-radius: 12px;  padding: 16px;  display: flex;  align-items: center;  gap: 12px;  cursor: pointer;  transition: all 0.3s ease;    &:hover {    transform: translateY(-4px);    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);  }}.recent-icon {  width: 48px;  height: 48px;  border-radius: 12px;  display: flex;  align-items: center;  justify-content: center;    i {    font-size: 24px;    color: white;  }}.recent-info {  display: flex;  flex-direction: column;  gap: 4px;}.recent-name {  font-size: 14px;  font-weight: 600;  color: #333;}.recent-time {  font-size: 12px;  color: #999;}</style>